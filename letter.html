<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Love Letter üìú</title>
    <style>
        /* General Body Styles */
        body {
            font-family: 'Comic Sans MS', cursive;
            background-color: #ffb6c1;
            color: #ff69b4;
            text-align: center;
            padding: 20px;
            display: flex; 
            justify-content: center;
            align-items: center;
            min-height: 100vh; 
            margin: 0;
        }
        
        /* --- CLOSED LETTER STYLES --- */
        .closed-letter-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            transition: opacity 0.5s; 
        }

        .closed-letter {
            width: 150px;
            height: 100px;
            background-color: #fff; 
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: float 2s infinite alternate; 
        }

        .closed-letter:hover {
            transform: scale(1.1) translateY(-5px); 
            box-shadow: 0 10px 20px rgba(255, 105, 180, 0.5);
        }

        .heart-seal {
            position: absolute;
            top: 5px;
            right: 5px;
            color: #ff69b4; 
            font-size: 24px;
            line-height: 1;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-10px); }
        }

        /* --- OPEN LETTER STYLES --- */
        .letter {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 20px;
            padding: 20px 40px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            display: none; 
            opacity: 0;
            transform-origin: top; 
        }
        
        /* Class applied when letter opens */
        .letter.opening {
            display: block;
            animation: openLetter 1.5s ease-out forwards; 
        }

        /* Animation for a dramatic entrance */
        @keyframes openLetter {
            0% { transform: scaleY(0.1); opacity: 0; }
            80% { transform: scaleY(1.05); opacity: 1; }
            100% { transform: scaleY(1); opacity: 1; }
        }

        /* --- TEXT ANIMATION STYLES (Adjusted) --- */
        .letter-content {
            line-height: 1.6;
            text-align: justify;
            margin-bottom: 25px;
            color: #ff69b4;
            font-size: 1.1em;
            /* Animation properties */
            opacity: 0; /* Start hidden */
            letter-spacing: 5px; /* Start with large spacing */
            transition: opacity 1.5s ease-out, letter-spacing 1.5s ease-out;
            /* REMOVED transition-delay: 1.8s; */
            white-space: pre-wrap;
            overflow: hidden; 
        }

        /* Class to apply the final state of the text animation */
        .content-visible {
            opacity: 1;
            letter-spacing: normal; 
        }
        
        /* --- OTHER STYLES (Adjusted Signature Delay) --- */
        h1 {
            border-bottom: 2px solid #ffb6c1;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .signature {
            text-align: right;
            margin-top: 30px;
            font-style: italic;
            font-weight: bold;
            opacity: 0; 
            /* NEW DELAY: 1.5s (text transition duration) + 0.5s (buffer) = 2s total */
            transition: opacity 1s 2s; 
        }
        
        .signature.visible {
            opacity: 1;
        }
        
        img {
            width: 150px;
            height: auto;
            border-radius: 10px;
            margin: 10px;
            border: 3px solid #ffc0cb; 
        }
        button {
            background-color: #ff69b4;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 25px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #ff1493;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div id="closed-letters" class="closed-letter-container">
        <div class="closed-letter" onclick="openLoveLetter()">
            <span class="heart-seal">‚ù§Ô∏è</span>
            Tap Me!
        </div>
        <div class="closed-letter" onclick="openLoveLetter()">
            <span class="heart-seal">üíå</span>
            Open Me!
        </div>
         <div class="closed-letter" onclick="openLoveLetter()">
            <span class="heart-seal">üíñ</span>
            For You
        </div>
    </div>

    <div id="love-letter" class="letter">
        <h1>My Dearest Princess,</h1>
        
        <p id="typed-text" class="letter-content">From the moment I met you, my heart knew it had found its forever home. You are the light in my darkest days, the smile that brightens my world. I love you more than words can say. Happy Princess Day! üíï</p>
        
        <img src="https://raw.githubusercontent.com/PromitDutta1/Princess-Day-1/main/Cat1.gif" alt="Cute Cat GIF 1"> 
        <img src="https://raw.githubusercontent.com/PromitDutta1/Princess-Day-1/main/Cat2.gif" alt="Cute Cat GIF 2">
        
        <p id="signature" class="signature">With all my love, <br> Your Prince</p>
        <button onclick="window.location.href='songs.html'">Continue</button>
    </div>

    <script>
        const textElement = document.getElementById('typed-text');
        const signatureElement = document.getElementById('signature');
        const loveLetter = document.getElementById('love-letter');
        const closedLetters = document.getElementById('closed-letters');

        function startTextAnimation() {
            // This is called immediately after the letter opening animation is triggered.
            textElement.classList.add('content-visible');
            signatureElement.classList.add('visible'); 
        }
        
        function openLoveLetter() {
            // 1. Hide the closed letters (Fade out)
            closedLetters.style.opacity = '0';
            
            // 2. Wait for the fade out, then hide it completely
            setTimeout(() => {
                closedLetters.style.display = 'none';
                
                // 3. Start the "opening" animation for the main letter
                loveLetter.classList.add('opening');
                
                // 4. Start the text animation immediately after triggering the letter open animation
                // This ensures the text starts fading in AS the letter is opening.
                startTextAnimation(); 
            }, 500); 
        }
    </script>
</body>
</html>
